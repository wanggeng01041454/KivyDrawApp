#:kivy 2.1.1


# 主界面
<MainScreen>:
    name: 'main'
    painter: painter
    color_button: color_button
    QwtPainterWidget:
        id: painter
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

    # 屏幕右侧的AI工具栏
    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'center'

        MDBoxLayout:
            orientation: "vertical"
            size_hint_y: 0.25
            adaptive_width: True
            spacing: 10

            MyMDFloatingActionButton:
                size_hint: (1, 1)
                icon: 'forum-outline'
                icon_size: 64
                on_press: root.on_show_prompt_dialog(*args)

            MyMDFloatingActionButton:
                size_hint: (1, 1)
                icon: 'cloud-refresh-variant-outline'
                icon_size: 64
                on_press: root.on_ai_process(*args)


    # 屏幕下方中间位置的画图工具栏
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'bottom'

        MDBoxLayout:
            orientation: "horizontal"
            size_hint_x: 0.8
            adaptive_height: True
            spacing: 10

            ColorWidthRepresentButton:
                id: color_button
                size_hint: (1.4, 1)
                display_type: "curve"
                on_press: root.open_color_width_dialog()

            MyMDFloatingActionButton:
                id: pencil_hover_btn
                size_hint: (1, 1)
                icon: 'pencil'
                on_press: root.on_select_pencil(*args)

            MyMDFloatingActionButton:
                id: line_hover_btn
                size_hint: (1, 1)
                icon: 'minus'
                on_press: root.on_select_line(*args)
                
            MyMDFloatingActionButton:
                id: rect_hover_btn
                size_hint: (1, 1)
                icon: 'rectangle-outline'
                on_press: root.on_select_rect(*args)

            MyMDFloatingActionButton:
                id: eraser_hover_btn
                size_hint: (1, 1)
                icon: 'eraser'
                on_press: root.on_select_eraser(*args)

            MyMDFloatingActionButton:
                id: clear_hover_btn
                size_hint: (1, 1)
                icon: 'trash-can-outline'
                on_press:root.on_clear_canvas(*args)


