#:kivy 2.1.1


# 主界面
<MainScreen>:
    name: 'main'
    painter: painter
    color_button: color_button
    QwtPainterWidget:
        id: painter
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

    # 屏幕右侧的AI工具栏
    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'center'

        MDBoxLayout:
            orientation: "vertical"
            size_hint_y: 0.25
            adaptive_width: True
            spacing: 10

            MDIconButton:
                size_hint: (1, 1)
                icon: 'res/imgs/prompt.png'
                icon_size: 64
                on_press: root.on_show_prompt_dialog(*args)

            MDIconButton:
                size_hint: (1, 1)
                icon: 'res/imgs/ai.png'
                icon_size: 64
                on_press: root.on_ai_process(*args)


    # 屏幕下方中间位置的画图工具栏
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'bottom'

        MDBoxLayout:
            orientation: "horizontal"
            size_hint_x: 0.8
            adaptive_height: True
            spacing: 10

            ColorWidthRepresentButton:
                id: color_button
                size_hint: (1, 1)
                display_type: "line"
                on_press: root.open_color_width_dialog()

            MDIconHoverButton:
                id: pencil_hover_btn
                size_hint: (1, 1)
                icon: 'res/imgs/pencil.png'
                icon_size: 64
                on_enter: root.on_mouse_enter_button(*args)
                on_leave: root.on_mouse_leave_button(*args)
                on_press: root.on_select_pencil(*args)

            MDIconHoverButton:
                id: line_hover_btn
                size_hint: (1, 1)
                icon: 'res/imgs/line.png'
                icon_size: 64
                on_enter: root.on_mouse_enter_button(*args)
                on_leave: root.on_mouse_leave_button(*args)
                on_press: root.on_select_line(*args)
                
            MDIconHoverButton:
                id: rect_hover_btn
                size_hint: (1, 1)
                icon: 'res/imgs/rectangle.png'
                icon_size: 64
                on_enter: root.on_mouse_enter_button(*args)
                on_leave: root.on_mouse_leave_button(*args)
                on_press: root.on_select_rect(*args)

            MDIconHoverButton:
                id: eraser_hover_btn
                size_hint: (1, 1)
                icon: 'res/imgs/eraser.png'
                icon_size: 64
                on_enter: root.on_mouse_enter_button(*args)
                on_leave: root.on_mouse_leave_button(*args)
                on_press: root.on_select_eraser(*args)

            MDIconHoverButton:
                id: clear_hover_btn
                size_hint: (1, 1)
                icon: 'res/imgs/trash-can.png'
                icon_size: 64
                on_enter: root.on_mouse_enter_button(*args)
                on_leave: root.on_mouse_leave_button(*args)
                on_press:root.on_clear_canvas(*args)


